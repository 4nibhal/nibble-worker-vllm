{
  "version": 1,
  "request_id": "REQ-NIBBLE-WORKER-VLLM-0003",
  "objective": "Harden fork release CI so Docker Hub is optional and release runs stay green without registry credentials or remote pushes.",
  "scope": "Limit changes to .github/workflows/release.yml and this request record: remove Docker Hub login dependency, run docker bake in build-only mode, keep deterministic version derivation, and preserve fork-only behavior with no upstream writes.",
  "risk_tier": "T1-medium",
  "acceptance_criteria": [
    "Release workflow no longer requires DOCKERHUB_USERNAME or DOCKERHUB_TOKEN.",
    "release.yml does not execute docker/login-action for Docker Hub.",
    "docker/bake-action executes with push disabled (build validation only).",
    "Release version is derived deterministically from workflow input or tag and rejected when format is invalid.",
    "No new upstream remotes, cross-repo writes, or additional secrets are introduced."
  ],
  "tests_expected": [
    "python -m json.tool aiwf.request.json >/dev/null",
    "Review workflow diff to verify docker/login-action removal and push: false in docker/bake-action",
    "Review workflow permissions to verify least-privilege contents: read"
  ],
  "rollback_plan": "Revert only the release workflow and request metadata changes to restore prior Docker Hub login/push behavior; no data migration or state cleanup is required.",
  "deploy_plan": "Apply and validate in this fork only; use workflow_dispatch or tag trigger in this fork to confirm build-only release path before any future registry strategy changes.",
  "threat_model": "Primary risks are accidental registry publication and over-scoped GITHUB_TOKEN permissions; mitigated by removing Docker Hub login, enforcing build-only bake (push disabled), constraining permissions to contents: read, and validating deterministic version format before build.",
  "ambiguities": []
}
