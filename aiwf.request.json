{
  "version": 1,
  "request_id": "REQ-NIBBLE-WORKER-VLLM-0003",
  "objective": "Ensure RunPod Hub detects a canonical serverless handler and preserve secure fork runtime behavior.",
  "scope": "Add a root-level handler.py compatible with RunPod handler conventions, route Docker CMD through that entrypoint, and keep the existing src runtime modules unchanged.",
  "risk_tier": "T1-medium",
  "acceptance_criteria": [
    "Root file handler.py defines a RunPod-compatible handler function and invokes runpod.serverless.start.",
    "Dockerfile copies handler.py and uses it as container CMD entrypoint.",
    "Serverless startup behavior remains equivalent, including CUDA-failure hard exit and aggregate streaming.",
    "No secrets are added to repository metadata or test fixtures."
  ],
  "tests_expected": [
    "python -m py_compile handler.py",
    "python -m json.tool .runpod/tests.json",
    "python -m py_compile src/handler.py",
    "docker buildx bake --print"
  ],
  "rollback_plan": "Revert the commit that adds root handler.py and Dockerfile CMD changes to restore /src/handler.py startup path.",
  "deploy_plan": "Apply and validate only in this fork, push to origin/main, and publish a tagged release in this fork.",
  "threat_model": "Primary risk is runtime drift caused by entrypoint changes; mitigated by preserving existing handler logic, maintaining CUDA failure shutdown behavior, and validating syntax plus build graph before release.",
  "ambiguities": []
}
